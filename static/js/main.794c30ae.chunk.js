(this.webpackJsonpryandezvous=this.webpackJsonpryandezvous||[]).push([[0],{22:function(e,t,a){e.exports=a(59)},27:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/logo.8a753739.svg"},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(3),i=a.n(o),u=(a(27),a(2)),l=a(5),s=a(1),c=a.n(s),h=a(11),m=a(12),d=a(14),p=a(13),f=a(15),g=a(7),v=a.n(g),D=a(8),b=a.n(D),y=(a(30),a(31),a(20)),w=a(21),F=a.n(w);a(56),a(57);window.moment=v.a;var C=[];var S=function(){var e=[{title:"Price",field:"price",formatter:"money",formatterParams:{symbol:"\u20ac",precision:0},headerFilter:!0,headerFilterFunc:function(e,t){return e>=t}},{title:"Destination",field:"destination",headerFilter:!0},{title:"You",columns:[{title:"Arrival",field:"myArrivalDate",align:"center",formatter:"datetime",formatterParams:{outputFormat:"ddd DD MMM HH:mm"}},{title:"Return",field:"myReturnDate",align:"center",formatter:"datetime",formatterParams:{outputFormat:"ddd DD MMM HH:mm"}},{title:"Link",field:"myLink",formatter:"link",formatterParams:{label:"Buy",target:"_blank"}}]},{title:"Them",columns:[{title:"Arrival",field:"herArrivalDate",align:"center",formatter:"datetime",formatterParams:{outputFormat:"ddd DD MMM HH:mm"}},{title:"Return",field:"herReturnDate",align:"center",formatter:"datetime",formatterParams:{outputFormat:"ddd DD MMM HH:mm"}},{title:"Link",field:"herLink",formatter:"link",formatterParams:{label:"Buy",target:"_blank"}}]},{title:"Together",field:"timeTogether",formatter:function(e,t,a){return e.getValue().humanize()},headerFilter:!0,headerFilterFunc:function(e,t){return A(e)<=t}},{title:"Apart",field:"timeApart",formatter:function(e,t,a){return e.getValue().humanize()},headerFilter:!0,headerFilterFunc:function(e,t){return A(e)>=t}}];return n.a.createElement("div",null,n.a.createElement(_,null),n.a.createElement("div",{id:"loading"},"\u2708"),n.a.createElement(y.ReactTabulator,{data:C,columns:e,options:{height:"100%",layout:"fitColumns",reactiveData:!0}}))},k="https://kiwiproxy.herokuapp.com/v2/search?fly_from=<airport>&dateFrom=<outDateFrom>&dateTo=<outDateTo>&returnFrom=<inDateFrom>&returnTo=<inDateTo>&curr=EUR&ret_from_diff_airport=0";function T(e){var t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]}function E(e){return e.code}function j(e){return n.a.createElement("span",null,e.code," ",e.name)}var O=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e,t){var r=t.newValue;a.setState({value:r}),a.props.onChange({target:{name:[a.props.name],value:r}})},a.onSuggestionsFetchRequested=function(e){var t=e.value;a.loadSuggestions(t)},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.state={value:"",suggestions:[],isLoading:!1},a.lastRequestId=null,a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"loadSuggestions",value:function(e){var t,a;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return null!==this.lastRequestId&&clearTimeout(this.lastRequestId),this.setState({isLoading:!0}),r.next=4,c.a.awrap(fetch("https://kiwiproxy.herokuapp.com//locations/query?term="+e));case 4:return t=r.sent,r.next=7,c.a.awrap(t.json());case 7:a=r.sent,this.setState({isLoading:!1,suggestions:a.locations});case 9:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,r=(e.isLoading,{placeholder:this.props.placeholder,value:t,onChange:this.onChange});return n.a.createElement(F.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:E,renderSuggestion:j,inputProps:r})}}]),t}(n.a.Component),_=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))},a.state={departureDateFrom:T(5),departureDateTo:T(6),returnDateFrom:T(9),returnDateTo:T(10)},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a.doStuff=a.doStuff.bind(Object(l.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"doStuff",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:b()("#loading").show();case 1:case"end":return e.stop()}})));case 2:return 72,e.next=5,c.a.awrap(M(this.state.myAirport,this.state.herAirport,72,C,this.state.departureDateFrom,this.state.departureDateTo,this.state.returnDateFrom,this.state.returnDateTo));case 5:console.log(C),c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:b()("#loading").hide();case 1:case"end":return e.stop()}}));case 7:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("label",null,"Departure:",n.a.createElement("input",{type:"date",value:this.state.departureDateFrom,name:"departureDateFrom",onChange:this.handleChange})),n.a.createElement("label",null,"\u2013",n.a.createElement("input",{type:"date",value:this.state.departureDateTo,name:"departureDateTo",onChange:this.handleChange})),n.a.createElement("label",null,"Return:",n.a.createElement("input",{type:"date",value:this.state.returnDateFrom,name:"returnDateFrom",onChange:this.handleChange})),n.a.createElement("label",null,"\u2013",n.a.createElement("input",{type:"date",value:this.state.returnDateTo,name:"returnDateTo",onChange:this.handleChange})),n.a.createElement(O,{name:"myAirport",value:this.state.myAirport,onChange:this.handleChange,placeholder:"Your origin"}),n.a.createElement(O,{name:"herAirport",value:this.state.herAirport,onChange:this.handleChange,placeholder:"Their origin"}),n.a.createElement("input",{type:"submit",value:"Submit",onClick:this.doStuff}))}}]),t}(n.a.Component);function R(e){return e.split("-").reverse().join("/")}function x(e,t,a,r,n,o){var i;return c.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return i=k.replace("<airport>",e).replace("<outDateFrom>",R(a)).replace("<outDateTo>",R(r)).replace("<inDateFrom>",R(n)).replace("<inDateTo>",R(o)),u.next=3,c.a.awrap(b.a.getJSON(i,(function(e){(e.data||[]).forEach((function(e){t.push(e)}))})));case 3:case"end":return u.stop()}}))}function M(e,t,a,r,n,o,i,l){var s,h,m;return c.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return s=function(e,t){var n,o=new Date(e.route[0].local_arrival),i=new Date(t.route[0].local_arrival),l=new Date(e.route[e.route.length-1].local_arrival),s=new Date(t.route[t.route.length-1].local_arrival),c=Math.abs(o-i),h=Math.abs(l-s),m=Math.min(l,s)-Math.max(o,i),d=c+h;c+h>60*a*60*1e3||e.cityCodeTo===t.cityCodeTo&&(m<864e5||m<=d||r.push((n={day:e.route[0].local_departure,destination:e.cityTo+", "+e.countryTo.name,myArrivalDate:e.route[0].local_arrival,herArrivalDate:t.route[0].local_arrival,myReturnDate:e.route[e.route.length-1].local_arrival,herReturnDate:t.route[t.route.length-1].local_arrival,myDepartureDate:e.route[0].local_departure,herDepartureDate:t.route[0].local_departure},Object(u.a)(n,"myReturnDate",e.route[e.route.length-1].local_departure),Object(u.a)(n,"herReturnDate",t.route[t.route.length-1].local_departure),Object(u.a)(n,"price",e.price+t.price),Object(u.a)(n,"timeApart",v.a.duration(d)),Object(u.a)(n,"timeTogether",v.a.duration(m)),Object(u.a)(n,"myLink",e.deep_link),Object(u.a)(n,"herLink",t.deep_link),n)))},h=[],m=[],d.next=5,c.a.awrap(x(e,h,n,o,i,l));case 5:return d.next=7,c.a.awrap(x(t,m,n,o,i,l));case 7:h.forEach((function(e){m.forEach((function(t){s(e,t)}))}));case 8:case"end":return d.stop()}}))}function A(e){var t=e.split(" "),a="a"===t[0]||"an"===t[0]?1:parseInt(t[0]),r="s"===t[1][t[1].length-1]?t[1]:t[1]+"s";return v.a.duration(a,r)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.794c30ae.chunk.js.map